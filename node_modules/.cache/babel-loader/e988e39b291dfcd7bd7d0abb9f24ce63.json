{"ast":null,"code":"var _jsxFileName = \"/Users/xc/Public/capacity_1103/front_new/src/views/pages/StaticResource.js\";\nimport React from 'react';\nimport { Table, Button, Form, Input, InputNumber, notification, Select } from 'antd';\nimport { MinusCircleOutlined, PlusCircleOutlined } from '@ant-design/icons';\nimport axios from \"axios\";\nimport { APIURL } from '../../common/constdt.js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst {\n  Option\n} = Select;\nexport default class StaticResource extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.onFinishFailed = errorInfo => {\n      console.log('Failed:', errorInfo);\n    };\n\n    this.onFinish = values => {\n      console.log('Success:', values);\n      this.staticcreate(values);\n    };\n\n    this.footer = () => {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"tbfootsix\",\n        children: this.state.opendiv || this.state.tabledtnew.length === 0 ? /*#__PURE__*/_jsxDEV(Form, {\n          onFinish: this.onFinish,\n          onFinishFailed: this.onFinishFailed,\n          initialValues: {\n            page_size_unit: \"MB\"\n          },\n          children: /*#__PURE__*/_jsxDEV(\"table\", {\n            children: /*#__PURE__*/_jsxDEV(\"tbody\", {\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  children: /*#__PURE__*/_jsxDEV(Form.Item, {\n                    label: \"\",\n                    name: \"domain\",\n                    children: /*#__PURE__*/_jsxDEV(Input, {\n                      placeholder: \"\\u9875\\u9762\\u94FE\\u63A5\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 316,\n                      columnNumber: 37\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 311,\n                    columnNumber: 33\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 309,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: /*#__PURE__*/_jsxDEV(Form.Item, {\n                    label: \"\",\n                    name: \"page_size\",\n                    children: /*#__PURE__*/_jsxDEV(InputNumber, {\n                      placeholder: \"\\u9875\\u9762\\u5927\\u5C0F\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 325,\n                      columnNumber: 37\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 320,\n                    columnNumber: 33\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 319,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: /*#__PURE__*/_jsxDEV(Form.Item, {\n                    label: \"\",\n                    name: \"page_size_unit\",\n                    children: /*#__PURE__*/_jsxDEV(Select, {\n                      children: [/*#__PURE__*/_jsxDEV(Option, {\n                        value: \"KB\",\n                        children: \" KB \"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 335,\n                        columnNumber: 37\n                      }, this), /*#__PURE__*/_jsxDEV(Option, {\n                        value: \"MB\",\n                        children: \" MB \"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 336,\n                        columnNumber: 37\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 334,\n                      columnNumber: 33\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 329,\n                    columnNumber: 33\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 328,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: /*#__PURE__*/_jsxDEV(Form.Item, {\n                    label: \"\",\n                    name: \"pre_qps\",\n                    children: /*#__PURE__*/_jsxDEV(InputNumber, {\n                      placeholder: \"\\u9884\\u4F30QPS(\\u4E07)\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 346,\n                      columnNumber: 37\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 341,\n                    columnNumber: 33\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 340,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: \"--\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 349,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: /*#__PURE__*/_jsxDEV(Form.Item, {\n                    children: /*#__PURE__*/_jsxDEV(Button, {\n                      type: \"primary\",\n                      htmlType: \"submit\",\n                      children: \" \\u786E\\u8BA4\\u6DFB\\u52A0\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 352,\n                      columnNumber: 37\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 351,\n                    columnNumber: 33\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 350,\n                  columnNumber: 33\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 308,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 307,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 306,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 301,\n          columnNumber: 22\n        }, this) : \"\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 17\n      }, this);\n    };\n\n    this.state = {\n      opendiv: false,\n      tabledtnew: [],\n      user_name: null\n    };\n    this.adddiv = this.adddiv.bind(this);\n    this.dele = this.dele.bind(this);\n    this.confirmdt = this.confirmdt.bind(this);\n  }\n\n  componentDidMount() {\n    this.agetRates();\n  }\n\n  async agetRates() {\n    const ts = this.props.event_id;\n    const url = `${APIURL}/static/list?event_id=${ts}`;\n    var that = this;\n    await axios.get(url, {\n      withCredentials: true\n    }).then(function (response) {\n      if (response.data.data) {\n        that.setState({\n          tabledtnew: response.data.data\n        });\n      }\n    }).catch(function (error) {\n      console.log(error);\n    });\n  }\n\n  adddiv(v) {\n    console.log(v);\n    this.setState({\n      opendiv: true\n    });\n  }\n\n  async staticcreate(v) {\n    console.log(v);\n    let url = `${APIURL}/static/create`;\n    var bodyFormData = new FormData();\n\n    if (!v.page_size || !v.domain || !v.pre_qps) {\n      notification.error({\n        message: '提示',\n        description: '请输入！！',\n        duration: 60,\n        placement: 'topCenter',\n        onClick: () => {\n          console.log('Notification Clicked!');\n        }\n      });\n      return;\n    }\n\n    bodyFormData.append(\"page_size\", v.page_size);\n    bodyFormData.append(\"page_size_unit\", v.page_size_unit);\n    bodyFormData.append(\"event_id\", this.props.event_id);\n    bodyFormData.append(\"domain\", v.domain);\n    bodyFormData.append(\"pre_qps\", v.pre_qps);\n\n    if (v.page_size_unit == \"KB\") {\n      bodyFormData.append(\"bandwidth\", v.page_size * 10 * v.pre_qps);\n    } else if (v.page_size_unit == \"MB\") {\n      bodyFormData.append(\"bandwidth\", v.page_size * 10000 * v.pre_qps);\n    } else {\n      console.log(\"pls select unit \");\n    }\n\n    var that = this;\n    await axios.post(url, bodyFormData, {\n      withCredentials: true\n    }).then(function (response) {\n      if (response.data.code === 0) {\n        notification.success({\n          message: '提示',\n          description: response.data.msg,\n          placement: 'topCenter',\n          onClick: () => {\n            console.log('Notification Clicked!');\n          }\n        });\n        that.setState({\n          opendiv: false\n        });\n        that.agetRates();\n      } else {\n        notification.success({\n          message: '提示',\n          description: response.data.msg,\n          placement: 'topCenter',\n          onClick: () => {\n            console.log('Notification Clicked!');\n          }\n        });\n      }\n    }).catch(function (error) {\n      console.log(error);\n      notification.error({\n        message: '提示',\n        description: error.message,\n        duration: 60,\n        placement: 'topCenter',\n        onClick: () => {\n          console.log('Notification Clicked!');\n        }\n      });\n    });\n  }\n\n  async dele(v) {\n    const url = `${APIURL}/static/delete`;\n    var bodyFormData = new FormData();\n    bodyFormData.append(\"static_id\", v.id);\n    let that = this;\n    await axios.post(url, bodyFormData, {\n      withCredentials: true\n    }).then(function (response) {\n      if (response.data.code === 0) {\n        that.agetRates();\n        notification.success({\n          message: '提示',\n          description: '\"删除成功！\"',\n          placement: 'topCenter',\n          onClick: () => {\n            console.log('Notification Clicked!');\n          }\n        });\n      } else {\n        notification.error({\n          message: '提示',\n          description: response.data.msg,\n          duration: 60,\n          placement: 'topCenter',\n          onClick: () => {\n            console.log('Notification Clicked!');\n          }\n        });\n      }\n    }).catch(function (error) {\n      console.log(error);\n      notification.error({\n        message: '提示',\n        description: error.message,\n        duration: 60,\n        placement: 'topCenter',\n        onClick: () => {\n          console.log('Notification Clicked!');\n        }\n      });\n    });\n  }\n\n  async confirmdt(v) {\n    const url = `${APIURL}/static/verify`;\n    var bodyFormData = new FormData();\n    bodyFormData.append(\"static_id\", v.id);\n    bodyFormData.append(\"event_id\", this.props.event_id);\n\n    if (this.props.EngName) {\n      bodyFormData.append(\"user_name\", this.props.EngName);\n    }\n\n    let that = this;\n    await axios.post(url, bodyFormData, {\n      withCredentials: true\n    }).then(function (response) {\n      if (response.data.code === 0) {\n        that.agetRates();\n        notification.success({\n          message: '提示',\n          description: '确认成功',\n          placement: 'topCenter',\n          onClick: () => {\n            console.log('Notification Clicked!');\n          }\n        });\n      } else {\n        notification.error({\n          message: '提示',\n          description: response.data.msg,\n          duration: 60,\n          placement: 'topCenter',\n          onClick: () => {\n            console.log('Notification Clicked!');\n          }\n        });\n      }\n    }).catch(function (error) {\n      console.log(error);\n      notification.error({\n        message: '提示',\n        description: error.message,\n        duration: 60,\n        placement: 'topCenter',\n        onClick: () => {\n          console.log('Notification Clicked!');\n        }\n      });\n    });\n  }\n\n  render() {\n    function trans(v) {\n      if (v.page_size_unit == \"MB\") {\n        if (v.bandwidth > 1000000) {\n          return v.bandwidth / 1000000 + \"T\";\n        } else {\n          return v.bandwidth / 1000 + \"G\";\n        }\n      } else if (v.page_size_unit == \"KB\") {\n        if (v.bandwidth > 1000) {\n          return v.bandwidth / 1000 + \"G\";\n        } else {\n          return v.bandwidth + \"MB\";\n        }\n      }\n    }\n\n    const columns = [{\n      title: '页面链接',\n      dataIndex: 'domain',\n      align: \"center\",\n      width: \"16.6%\"\n    }, {\n      title: '页面大小',\n      dataIndex: 'page_size',\n      align: \"center\",\n      width: \"16.6%\",\n      render: (text, data, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        children: data.page_size + data.page_size_unit\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 408,\n        columnNumber: 21\n      }, this)\n    }, {\n      title: '预估QPS(万)',\n      dataIndex: 'pre_qps',\n      align: \"center\",\n      width: \"16.6%\"\n    }, {\n      title: '所需宽带',\n      dataIndex: 'bandwidth',\n      align: \"center\",\n      width: \"16.6%\",\n      render: (text, data) => trans(data)\n    }, {\n      title: '平台负责人确认',\n      dataIndex: 'confirm_status',\n      align: \"center\",\n      width: \"16.6%\",\n      render: (text, data, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        children: data.confirm_status === 0 ? /*#__PURE__*/_jsxDEV(Button, {\n          onClick: () => this.confirmdt(data),\n          type: \"primary\",\n          size: \"small\",\n          children: \"\\u786E\\u8BA4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 439,\n          columnNumber: 33\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"brespans\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: data.confirm_user\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 446,\n            columnNumber: 30\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: data.confirm_datetime\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 449,\n            columnNumber: 30\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 445,\n          columnNumber: 29\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 436,\n        columnNumber: 21\n      }, this)\n    }, {\n      title: '操作',\n      dataIndex: 'type_name',\n      align: \"center\",\n      width: \"16.6%\",\n      render: (text, data, index) => /*#__PURE__*/_jsxDEV(\"span\", {\n        children: index !== this.state.tabledtnew.length - 1 ? data.confirm_status == 0 ? /*#__PURE__*/_jsxDEV(Button, {\n          icon: /*#__PURE__*/_jsxDEV(MinusCircleOutlined, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 469,\n            columnNumber: 47\n          }, this),\n          onClick: () => this.dele(data)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 469,\n          columnNumber: 33\n        }, this) : \"--\" : /*#__PURE__*/_jsxDEV(\"div\", {\n          children: data.confirm_status == 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              icon: /*#__PURE__*/_jsxDEV(MinusCircleOutlined, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 477,\n                columnNumber: 59\n              }, this),\n              onClick: () => this.dele(data)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 477,\n              columnNumber: 45\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              icon: /*#__PURE__*/_jsxDEV(PlusCircleOutlined, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 478,\n                columnNumber: 59\n              }, this),\n              onClick: this.adddiv\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 478,\n              columnNumber: 45\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 476,\n            columnNumber: 41\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              icon: /*#__PURE__*/_jsxDEV(PlusCircleOutlined, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 483,\n                columnNumber: 59\n              }, this),\n              onClick: this.adddiv\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 483,\n              columnNumber: 45\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 481,\n            columnNumber: 41\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 474,\n          columnNumber: 33\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 466,\n        columnNumber: 21\n      }, this)\n    }];\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"staticsResource\",\n      children: /*#__PURE__*/_jsxDEV(Table, {\n        columns: columns,\n        rowKey: \"id\",\n        dataSource: this.state.tabledtnew,\n        pagination: {\n          total: this.state.tabledtnew.length,\n          pageSize: this.state.tabledtnew.length\n        },\n        footer: this.footer\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 506,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 504,\n      columnNumber: 12\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["/Users/xc/Public/capacity_1103/front_new/src/views/pages/StaticResource.js"],"names":["React","Table","Button","Form","Input","InputNumber","notification","Select","MinusCircleOutlined","PlusCircleOutlined","axios","APIURL","Option","StaticResource","Component","constructor","props","onFinishFailed","errorInfo","console","log","onFinish","values","staticcreate","footer","state","opendiv","tabledtnew","length","page_size_unit","user_name","adddiv","bind","dele","confirmdt","componentDidMount","agetRates","ts","event_id","url","that","get","withCredentials","then","response","data","setState","catch","error","v","bodyFormData","FormData","page_size","domain","pre_qps","message","description","duration","placement","onClick","append","post","code","success","msg","id","EngName","render","trans","bandwidth","columns","title","dataIndex","align","width","text","index","confirm_status","confirm_user","confirm_datetime","total","pageSize"],"mappings":"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","sourcesContent":["import React from 'react';\n \nimport { Table, Button, Form, Input, InputNumber, notification, Select  } from 'antd';\nimport { MinusCircleOutlined, PlusCircleOutlined } from '@ant-design/icons';\n\n\nimport axios from \"axios\";\n\n\nimport {  APIURL } from '../../common/constdt.js';\n\nconst { Option } = Select;\n\nexport default class StaticResource extends React.Component {\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            \n            opendiv: false,\n            tabledtnew: [],\n            user_name: null,\n\n        }\n        this.adddiv = this.adddiv.bind(this)\n        this.dele = this.dele.bind(this)\n        this.confirmdt = this.confirmdt.bind(this)\n\n    \n\n    }\n\n\n    componentDidMount() {\n        \n        this.agetRates()\n \n    }\n\n\n    \n    async agetRates() {\n\n\n        const ts = this.props.event_id\n        const url = `${APIURL}/static/list?event_id=${ts}`;\n\n        var that = this;\n        await axios.get(url, { withCredentials: true })\n        .then(function (response) {\n          \n          if (response.data.data) {\n\n            that.setState({\n                \n                tabledtnew: response.data.data,\n            })\n        }\n        })\n        .catch(function (error) {\n          console.log(error);\n         \n          \n        })\n  \n\n \n    }\n    adddiv(v) {\n      \n \n\n        console.log(v)\n        this.setState({\n            opendiv: true,\n        })\n        \n    }\n    onFinishFailed = (errorInfo) => {\n        console.log('Failed:', errorInfo);\n    };\n    onFinish = (values) => {\n             \n        console.log('Success:', values);\n        this.staticcreate(values)\n    }\n    \n    async staticcreate(v){\n        console.log(v)\n  \n        let url = `${APIURL}/static/create`;\n\n        var bodyFormData = new FormData();\n       \n        if(!v.page_size ||   !v.domain || !v.pre_qps){\n            \n            notification.error({\n                message: '提示',\n                description: '请输入！！',\n                duration: 60,\n                placement: 'topCenter',\n                onClick: () => {\n                  console.log('Notification Clicked!');\n                },\n            });\n            return \n        }\n        bodyFormData.append(\"page_size\", v.page_size);\n        bodyFormData.append(\"page_size_unit\", v.page_size_unit);\n        bodyFormData.append(\"event_id\", this.props.event_id);\n        bodyFormData.append(\"domain\", v.domain);\n        bodyFormData.append(\"pre_qps\", v.pre_qps);\n\n         \n        if(v.page_size_unit == \"KB\") {\n            \n            bodyFormData.append(\"bandwidth\", v.page_size*10*v.pre_qps);\n\n        } else if(v.page_size_unit == \"MB\")  {\n            bodyFormData.append(\"bandwidth\", v.page_size*10000*v.pre_qps);\n        } else {\n            console.log(\"pls select unit \")\n        }\n  \n         var that = this\n        await axios.post(url, bodyFormData, { withCredentials: true })\n           .then(function (response) {\n             \n             if(response.data.code === 0){\n                notification.success({\n                    message: '提示',\n                    description: response.data.msg,\n                    placement: 'topCenter',\n                    onClick: () => {\n                      console.log('Notification Clicked!');\n                    },\n                });\n                 that.setState({\n                     opendiv: false,\n                 })\n                 that.agetRates()\n             } else {\n                \n                 notification.success({\n                    message: '提示',\n                    description: response.data.msg,\n                    placement: 'topCenter',\n                    onClick: () => {\n                      console.log('Notification Clicked!');\n                    },\n                });\n             }\n             \n           })\n           .catch(function (error) {\n             console.log(error);\n             notification.error({\n                message: '提示',\n                description: error.message,\n                duration: 60,\n                placement: 'topCenter',\n                onClick: () => {\n                console.log('Notification Clicked!');\n                },\n            });\n           })\n    }\n\n\n\n    async dele(v){\n \n        const url = `${APIURL}/static/delete`;\n\n        var bodyFormData = new FormData();\n        bodyFormData.append(\"static_id\", v.id);\n     \n  \n       \n        let that = this;\n        await axios.post(url, bodyFormData, { withCredentials: true })\n        .then(function (response) {\n          \n          \n          if (response.data.code === 0) {\n                 \n                that.agetRates();\n             \n                notification.success({\n                    message: '提示',\n                    description: '\"删除成功！\"',\n                    placement: 'topCenter',\n                    onClick: () => {\n                      console.log('Notification Clicked!');\n                    },\n                });\n            } else {\n                notification.error({\n                    message: '提示',\n                    description: response.data.msg,\n                    duration: 60,\n                    placement: 'topCenter',\n                    onClick: () => {\n                      console.log('Notification Clicked!');\n                    },\n                });\n\n            }\n            \n        })\n        .catch(function (error) {\n          console.log(error);\n          notification.error({\n            message: '提示',\n            description: error.message,\n            duration: 60,\n            placement: 'topCenter',\n            onClick: () => {\n            console.log('Notification Clicked!');\n            },\n        });\n        })\n       \n\n    }\n\n\n    async confirmdt(v){\n  \n        const url = `${APIURL}/static/verify`;\n\n        var bodyFormData = new FormData();\n        bodyFormData.append(\"static_id\", v.id);\n        bodyFormData.append(\"event_id\", this.props.event_id);\n\n        if(this.props.EngName){\n            bodyFormData.append(\"user_name\", this.props.EngName);\n        }\n     \n\n        let that = this;\n        await axios.post(url, bodyFormData, { withCredentials: true })\n        .then(function (response) {\n          \n          \n          if (response.data.code === 0) {\n                 \n                that.agetRates();\n              \n                notification.success({\n                    message: '提示',\n                    description: '确认成功',\n                    placement: 'topCenter',\n                    onClick: () => {\n                      console.log('Notification Clicked!');\n                    },\n                });\n\n            } else {\n           \n                notification.error({\n                    message: '提示',\n                    description: response.data.msg,\n                    duration: 60,\n                    placement: 'topCenter',\n                    onClick: () => {\n                      console.log('Notification Clicked!');\n                    },\n                });\n                \n                \n            }\n\n\n        })\n        .catch(function (error) {\n          console.log(error);\n            \n            notification.error({\n                message: '提示',\n                description: error.message,\n                duration: 60,\n                placement: 'topCenter',\n                onClick: () => {\n                console.log('Notification Clicked!');\n                },\n            });\n\n        })\n    }\n\n\n\n\n    footer = () => {\n         \n    \n        return( <div className=\"tbfootsix\">\n            {this.state.opendiv ||  this.state.tabledtnew.length === 0 ? (\n                     <Form\n                        onFinish={this.onFinish}\n                        onFinishFailed={this.onFinishFailed}\n                        initialValues={{ page_size_unit: \"MB\" }}\n                    >\n                        <table>\n                            <tbody>\n                                <tr>\n                                <td>\n\n                                <Form.Item\n                                    label=\"\"\n                                    name=\"domain\"\n                         \n                                >\n                                    <Input placeholder=\"页面链接\" />\n                                </Form.Item>\n                            </td>\n                            <td>\n                                <Form.Item\n                                    label=\"\"\n                                    name=\"page_size\"\n                                   \n                                >\n                                    <InputNumber placeholder=\"页面大小\" />\n                                </Form.Item>\n                            </td>\n                            <td>  \n                                <Form.Item\n                                    label=\"\"\n                                    name=\"page_size_unit\"\n                                    \n                                >\n                                <Select>\n                                    <Option value=\"KB\"> KB </Option>\n                                    <Option value=\"MB\"> MB </Option>\n                                </Select>\n                                </Form.Item>\n                            </td>\n                            <td>\n                                <Form.Item\n                                    label=\"\"\n                                    name=\"pre_qps\"\n                                    \n                                >\n                                    <InputNumber placeholder=\"预估QPS(万)\" />\n                                </Form.Item>\n                                </td>\n                                <td>--</td>\n                                <td>\n                                <Form.Item>\n                                    <Button type=\"primary\" htmlType=\"submit\"> 确认添加     \n                                    </Button>\n                                </Form.Item>\n                             </td>\n                            </tr>\n                        </tbody>\n                    </table>\n                    </Form>\n                    ) : (\n                        \n                         \"\"\n                    )}\n \n            </div>)\n            ;\n      };\n      \n\n\n\n    render(){\n\n\n       function  trans(v){\n           if(v.page_size_unit == \"MB\"){\n                if(v.bandwidth > 1000000){\n                    return (v.bandwidth / 1000000)+\"T\"\n                } else {\n                    return (v.bandwidth / 1000)+\"G\"\n                }\n               \n           }else if(v.page_size_unit == \"KB\"){\n               if(v.bandwidth > 1000) {\n                  return (v.bandwidth / 1000 ) + \"G\"\n               } else {\n                    return v.bandwidth +\"MB\"\n               }\n                \n           }\n       }\n\n          \n        const columns = [\n            {\n                title: '页面链接',\n                dataIndex: 'domain',\n                align: \"center\",\n                width: \"16.6%\",\n\n            },\n            {\n                title: '页面大小',\n                dataIndex: 'page_size',\n                align: \"center\",\n                width: \"16.6%\",\n                render: (text, data, index) => (\n                    <div>\n                     {data.page_size + data.page_size_unit}\n                     </div>\n                )\n\n            },\n            {\n                title: '预估QPS(万)',\n                dataIndex: 'pre_qps',\n                align: \"center\",\n                width: \"16.6%\",\n\n            },\n            {\n                title: '所需宽带',\n                dataIndex: 'bandwidth',\n                align: \"center\",\n                width: \"16.6%\",\n                render: (text, data) =>  trans(data)\n\n            },\n            \n            {\n                title: '平台负责人确认',\n                dataIndex: 'confirm_status',\n                align: \"center\",\n                width: \"16.6%\",\n                render: (text, data, index) => (\n                    <div>\n                        {data.confirm_status === 0 ? (\n                            \n                                <Button   onClick={()=>this.confirmdt(data)} type=\"primary\" size=\"small\">\n                                    确认\n                                </Button>\n                               \n                        ): (\n\n                            <div className=\"brespans\"> \n                             <span>\n                               {data.confirm_user } \n                             </span> \n                             <span>\n                               {  data.confirm_datetime } \n                              </span>\n                            </div>\n                           \n                        )}\n                    </div>\n                )\n\n\n            },\n            {\n                title: '操作',\n                dataIndex: 'type_name',\n                align: \"center\",\n                width: \"16.6%\",\n                render: (text, data, index) => (\n                    <span>\n                        { (index !== this.state.tabledtnew.length - 1) ? (\n                             data.confirm_status == 0 ? (\n                                <Button icon={<MinusCircleOutlined />}  onClick={()=>this.dele(data)}></Button>\n                             ):(\"--\")\n                            \n\n                        ) : (\n                                <div>\n                                    {data.confirm_status == 0 ? (\n                                        <div>\n                                            <Button icon={<MinusCircleOutlined />}  onClick={()=>this.dele(data)}></Button>\n                                            <Button icon={<PlusCircleOutlined />} onClick={this.adddiv}></Button>\n                                        </div>\n                                    ):(\n                                        <div>\n                                            \n                                            <Button icon={<PlusCircleOutlined />} onClick={this.adddiv}></Button>\n                                        </div>\n                                    )}\n                                    \n                                </div>\n\n                            )\n\n                        }\n\n\n                    </span>\n                ),\n\n            },\n\n        ];\n\n\n\n        return(\n           <div id=\"staticsResource\">\n\n                <Table\n\n                columns={columns}\n                rowKey=\"id\"\n                dataSource={this.state.tabledtnew}\n                pagination={{\n                    total: this.state.tabledtnew.length,\n                    pageSize: this.state.tabledtnew.length,\n                }}\n                footer={this.footer}\n                />\n           </div>\n           \n\n\n        )\n    }\n\n}\n"]},"metadata":{},"sourceType":"module"}