{"ast":null,"code":"var _jsxFileName = \"/Users/xc/Public/capacity_1103/front_new/src/views/pages/CheckList.js\";\nimport React from 'react';\nimport axios from \"axios\";\nimport { Table, Button, notification, Tooltip } from 'antd';\nimport { APIURL } from \"../../common/constdt.js\";\nimport { CheckCircleOutlined, QuestionCircleOutlined } from \"@ant-design/icons\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class CheckList extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      cklist: null\n    };\n    this.goto_tabs = this.goto_tabs.bind(this);\n    this.copylink = this.copylink.bind(this);\n  }\n\n  componentDidMount() {\n    console.log(this.props);\n    let t = this.props.id;\n    console.log(t);\n    var url_string = window.location.href.replace(/\\/#/g, \"\");\n    console.log(url_string);\n    var url = new URL(url_string);\n    var c = url.searchParams.get(\"tabs\");\n    var b = url.searchParams.get(\"id\");\n    console.log(b);\n    console.log(c);\n    this.agetRates(b);\n\n    if (c) {\n      this.props.defaultkey(c);\n    }\n  }\n\n  cklists() {\n    this.agetRates(this.props.id);\n  }\n\n  async agetRates(t) {\n    const urlsx = `${APIURL}/checkList/list`;\n    var that = this;\n    await axios.get(urlsx, {\n      withCredentials: true,\n      params: {\n        event_id: t\n      }\n    }).then(function (response) {\n      if (response.data) {\n        that.setState({\n          cklist: response.data.data\n        });\n      }\n    }).catch(function (error) {\n      console.log(error);\n    });\n  } //  child transfer value to parent\n\n\n  goto_tabs(v) {\n    console.log(v);\n    this.props.defaultkey(v.platform_name);\n  }\n\n  copylink(v) {\n    console.log(v);\n    var url_string = window.location.href.replace(/\\/#/g, \"\");\n    console.log(url_string);\n    var url = new URL(url_string);\n    var b = url.searchParams.get(\"id\");\n    var txt = url.host + \"/#/EventDetail?id=\" + b + \"&tabs=\" + v.platform_name;\n    navigator.clipboard.writeText(txt);\n    console.log(txt);\n    notification.success({\n      message: '提示',\n      description: '链接已复制',\n      placement: 'topCenter',\n      onClick: () => {\n        console.log('Notification Clicked!');\n      }\n    });\n  }\n\n  render() {\n    const columns = [{\n      title: '平台',\n      dataIndex: 'platform',\n      align: \"center\"\n    }, {\n      title: '是否以填写详情内容',\n      dataIndex: 'is_tianxie',\n      align: \"center\",\n      render: (text, data) => /*#__PURE__*/_jsxDEV(\"span\", {\n        children: data.is_tianxie == 0 ? /*#__PURE__*/_jsxDEV(Tooltip, {\n          title: \"\\u672A\\u586B\\u5199\\u8BE6\\u7EC6\\u5185\\u5BB9\",\n          children: /*#__PURE__*/_jsxDEV(QuestionCircleOutlined, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 29\n        }, this) : /*#__PURE__*/_jsxDEV(CheckCircleOutlined, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 29\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 21\n      }, this)\n    }, {\n      title: '平台负责人已确认',\n      dataIndex: 'is_check',\n      align: \"center\",\n      render: (text, data) => /*#__PURE__*/_jsxDEV(\"span\", {\n        children: data.is_check == 0 ? /*#__PURE__*/_jsxDEV(Tooltip, {\n          title: \"\\u5E73\\u53F0\\u8D1F\\u8D23\\u4EBA\\u672A\\u5168\\u90E8\\u786E\\u8BA4\",\n          children: /*#__PURE__*/_jsxDEV(QuestionCircleOutlined, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 33\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 29\n        }, this) : /*#__PURE__*/_jsxDEV(CheckCircleOutlined, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 29\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 21\n      }, this)\n    }, {\n      title: '发送确认链接',\n      dataIndex: 'platform',\n      align: \"center\",\n      render: (text, data, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          onClick: () => this.goto_tabs(data),\n          type: \"primary\",\n          size: \"small\",\n          children: \"\\u8BE6\\u60C5\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: () => this.copylink(data),\n          type: \"primary\",\n          size: \"small\",\n          children: \"\\u590D\\u5236\\u94FE\\u63A5\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 21\n      }, this)\n    }];\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"checklist\",\n      children: /*#__PURE__*/_jsxDEV(Table, {\n        columns: columns,\n        rowKey: \"platform\",\n        dataSource: this.state.cklist\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 13\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["/Users/xc/Public/capacity_1103/front_new/src/views/pages/CheckList.js"],"names":["React","axios","Table","Button","notification","Tooltip","APIURL","CheckCircleOutlined","QuestionCircleOutlined","CheckList","Component","constructor","props","state","cklist","goto_tabs","bind","copylink","componentDidMount","console","log","t","id","url_string","window","location","href","replace","url","URL","c","searchParams","get","b","agetRates","defaultkey","cklists","urlsx","that","withCredentials","params","event_id","then","response","data","setState","catch","error","v","platform_name","txt","host","navigator","clipboard","writeText","success","message","description","placement","onClick","render","columns","title","dataIndex","align","text","is_tianxie","is_check","index"],"mappings":"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","sourcesContent":["import React   from 'react';\nimport axios from \"axios\";\nimport {   Table, Button , notification, Tooltip } from 'antd';\n\nimport {  APIURL } from \"../../common/constdt.js\"\nimport { CheckCircleOutlined, QuestionCircleOutlined } from \"@ant-design/icons\"\n\nexport default class CheckList extends React.Component {\n\n    constructor(props) {\n\n        \n        super(props);\n\n        this.state = {\n             cklist: null,\n     \n            \n        }\n        this.goto_tabs = this.goto_tabs.bind(this)\n        this.copylink = this.copylink.bind(this)\n    }\n    \n    componentDidMount(){\n        \n        console.log(this.props)\n        let t = this.props.id\n         \n        console.log(t)\n       \n \n        var url_string = window.location.href.replace(/\\/#/g,\"\")\n        console.log(url_string)\n        var url = new URL(url_string);\n        var c = url.searchParams.get(\"tabs\");\n        var b = url.searchParams.get(\"id\");\n        console.log(b)\n        console.log(c);\n        this.agetRates(b)\n        if(c){\n            this.props.defaultkey(c)\n        }\n    }\n\n  \n    cklists() {\n        this.agetRates(this.props.id)\n     }\n    async agetRates (t){\n\n        \n        const urlsx = `${APIURL}/checkList/list`;\n\n        var that = this\n        await axios.get(urlsx, {\n            withCredentials: true,\n            params: {\n                event_id: t,\n            }\n        })\n            .then(function (response) {\n               \n\n                if (response.data) {\n                    that.setState({\n                        \n                        cklist: response.data.data,\n                       \n\n                    })\n                }\n\n            })\n            .catch(function (error) {\n                console.log(error);\n                 \n            })\n\n        \n    }\n\n    //  child transfer value to parent\n    goto_tabs(v){\n        console.log(v)\n        this.props.defaultkey(v.platform_name)\n    }\n   \n\n    copylink(v){\n        console.log(v)\n       \n        var url_string = window.location.href.replace(/\\/#/g,\"\")\n        console.log(url_string)\n        var url = new URL(url_string);\n       \n        var b = url.searchParams.get(\"id\");\n\n        var txt = url.host+\"/#/EventDetail?id=\" + b+\"&tabs=\"+ v.platform_name;\n        navigator.clipboard.writeText(txt)\n        console.log(txt)\n        \n        notification.success({\n            message: '提示',\n            description: '链接已复制',\n            placement: 'topCenter',\n            onClick: () => {\n              console.log('Notification Clicked!');\n            },\n        });\n\n    }\n\n   \n    \n    render(){\n\n        const columns = [\n            {\n                title: '平台',\n                dataIndex: 'platform',\n                align: \"center\",\n            },\n            {\n                title: '是否以填写详情内容',\n                dataIndex: 'is_tianxie',\n                align: \"center\",\n                render: (text, data) => (\n                    <span>\n                        {data.is_tianxie == 0 ? (\n                            <Tooltip title=\"未填写详细内容\">\n\n                            \n                            <QuestionCircleOutlined />\n                            </Tooltip>\n                        ): (\n                            <CheckCircleOutlined />  \n                        )}\n\n                    </span>\n                    \n                )\n\n\n            },\n            {\n                title: '平台负责人已确认',\n                dataIndex: 'is_check',\n                align: \"center\",\n                render: (text, data) => (\n                    <span>\n                        {data.is_check == 0 ? (\n                            <Tooltip title=\"平台负责人未全部确认\">\n                                <QuestionCircleOutlined />\n                            </Tooltip>\n                           \n                        ): (\n                            <CheckCircleOutlined />  \n                        )}\n\n                    </span>\n                    \n                )\n\n\n            },\n            {\n                title: '发送确认链接',\n                dataIndex: 'platform',\n                align: \"center\",\n                render: (text, data, index) => (\n                    <div>\n\n                    \n                    <Button  onClick={()=> this.goto_tabs(data)} type=\"primary\" size=\"small\">\n\n                        详情\n\n                    </Button>\n                    <Button  onClick={()=> this.copylink(data) } type=\"primary\" size=\"small\">\n\n                        复制链接\n\n                    </Button>\n                </div>\n                )\n\n            },\n        ]\n\n\n\n        return (\n            <div id=\"checklist\"> \n                <Table\n\n                columns={columns}\n                rowKey=\"platform\"\n                dataSource={this.state.cklist}\n                \n                />\n            </div>\n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}