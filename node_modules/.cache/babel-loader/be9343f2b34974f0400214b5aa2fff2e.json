{"ast":null,"code":"var _jsxFileName = \"/Users/xc/Public/capacity_1103/front_new/src/views/pages/CapacityChildDetail.js\";\nimport React from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { Table, Row, Button, Col, Card, Select, Tabs, Tooltip } from 'antd';\nimport { SyncOutlined } from '@ant-design/icons';\nimport axios from \"axios\";\nimport { APIURL } from '../../common/constdt.js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst {\n  Option\n} = Select;\nconst {\n  TabPane\n} = Tabs;\n\nclass CapacityChildDetail extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.onFinish = values => {\n      console.log('Success:', values);\n    };\n\n    this.state = {\n      detail: null,\n      capacitylist: null,\n      tabcapacitylist: null,\n      unitcapacity: null,\n      event_id: null,\n      unit_capacity: null,\n      num: null,\n      link_list: [],\n      filemap: false,\n      mapdt: null,\n      secondarray: [],\n      originalsecond: [],\n      link_id: null,\n      link_idpinput: null,\n      link_idblur: null,\n      link_info: null,\n      linklist: null\n    };\n    this.tabeventchaine = this.tabeventchaine.bind(this);\n  }\n\n  componentDidMount() {\n    this.tabeventchaine();\n    const ts = this.props.location.search.replace(\"?id=\", \"\");\n    this.setState({\n      id: ts\n    });\n    this.agetRates(ts);\n    this.eventlist();\n  }\n\n  callback(key) {\n    console.log(key);\n  }\n\n  async tabeventchaine() {\n    var ts = this.props.location.search.replace(\"?id=\", \"\");\n    const urls = `${APIURL}/capacity/list`;\n    this.setState({\n      event_id: ts\n    });\n    var that = this;\n    await axios.get(urls, {\n      withCredentials: true,\n      params: {\n        event_id: ts\n      }\n    }).then(function (response) {\n      if (response.data) {\n        var otsdata = response.data.data;\n        console.log(otsdata);\n        var tsdata = response.data.data;\n        var toparr = [];\n        var topseccond = [];\n\n        if (tsdata.length == 0) {\n          return false;\n        }\n\n        that.setState({\n          link_id: tsdata[0].link_id,\n          link_info: JSON.stringify(tsdata[0].link_info),\n          linklist: tsdata\n        }); // first time\n\n        for (let i = 0; i < tsdata.length; i++) {\n          let topobj = {};\n          topobj = tsdata[i];\n          let fstarrst = [];\n\n          for (let j = 0; j < tsdata[i].list.length; j++) {\n            let fstobj = {};\n            fstobj = JSON.parse(JSON.stringify(tsdata[i].list[j]));\n            let names = tsdata[i].list[j].app_name + \".\" + tsdata[i].list[j].server_name;\n            fstobj.namesa = names;\n            fstarrst.push(fstobj);\n          }\n\n          topobj.list = fstarrst;\n          console.log(fstarrst);\n          toparr.push(topobj);\n          topseccond.push(topobj);\n        }\n\n        console.log('1, add names');\n        console.log(toparr);\n        console.log(topseccond);\n        that.setState({\n          secondarray: toparr\n        }); //  second time \n\n        let firstarray = [];\n        let firstobjarray = [];\n\n        for (let k = 0; k < topseccond.length; k++) {\n          let firstobj = {};\n          let namesobj = {};\n          firstobj = topseccond[k];\n          firstobj = Object.assign({}, topseccond[k]);\n          let firstlistarray = [];\n          let firstuniqarr = [];\n          let ofirstarr = [];\n\n          for (let l = 0; l < topseccond[k].list.length; l++) {\n            if (firstlistarray.indexOf(topseccond[k].list[l].namesa) == -1) {\n              let subpobj = {};\n              let subtmpobj = {};\n              firstlistarray.push(topseccond[k].list[l].namesa);\n              firstuniqarr.push(topseccond[k].list[l]);\n              subpobj = topseccond[k].list[l];\n              subtmpobj = Object.assign({}, subpobj);\n              subtmpobj.id = subtmpobj.id * 2 + 1;\n              subtmpobj.area = \"--\";\n              subtmpobj.now_num = 0;\n              subtmpobj.target_num = 0;\n              subtmpobj.expand_oncall_id = 0;\n              subtmpobj.reduce_oncall_id = 0;\n              ofirstarr.push(subtmpobj);\n            }\n          }\n\n          namesobj.list = firstlistarray;\n          firstobj.list = ofirstarr;\n          firstobjarray.push(firstobj);\n          firstarray.push(namesobj);\n        }\n\n        console.log(\"2\");\n        console.log(firstobjarray);\n        console.log(firstarray);\n        console.log(that.state.secondarray);\n        console.log(topseccond);\n        let endarray = [];\n\n        for (let n = 0; n < firstobjarray.length; n++) {\n          let endobj = {};\n          endobj = Object.assign({}, firstobjarray[n]);\n          let lastarr = [];\n\n          for (let m = 0; m < firstobjarray[n].list.length; m++) {\n            let tempar = [];\n            let tempob = {};\n            tempob = firstobjarray[n].list[m];\n            let nnow_num = 0;\n            let ntarget_num = 0;\n\n            for (let p = 0; p < topseccond[n].list.length; p++) {\n              if (firstobjarray[n].list[m].namesa == topseccond[n].list[p].namesa) {\n                tempar.push(topseccond[n].list[p]);\n                nnow_num += topseccond[n].list[p].now_num;\n                ntarget_num += topseccond[n].list[p].target_num;\n              }\n            }\n\n            tempob.now_num = nnow_num;\n            tempob.target_num = ntarget_num;\n            tempob.rowspan = tempar.length;\n\n            if (tempar.length > 1) {\n              tempob.children = tempar;\n            }\n\n            lastarr.push(tempob);\n          }\n\n          endobj.list = lastarr;\n          endarray.push(endobj);\n        }\n\n        console.log(endarray);\n        that.setState({\n          tabcapacitylist: endarray\n        });\n      }\n    }).catch(function (error) {\n      console.log(error);\n    });\n  }\n\n  async eventlist() {\n    this.setState({\n      tabledt: null\n    });\n    const urlsx = `${APIURL}/eventInfo/queryPid`;\n    var that = this;\n    await axios.get(urlsx, {\n      withCredentials: true\n    }).then(function (response) {\n      if (response.data) {\n        that.setState({\n          tabledt: response.data.pid_list\n        });\n      }\n    }).catch(function (error) {\n      console.log(error);\n    });\n  }\n\n  async agetRates(t) {\n    const urlsx = `${APIURL}/eventInfo/detail?event_id=${t}`;\n    var that = this;\n    await axios.get(urlsx, {\n      withCredentials: true\n    }).then(function (response) {\n      if (response.data) {\n        let link_list = [];\n\n        if (response.data.data.link_list && response.data.data.link_list.length >= 1) {\n          for (let i = 0; i < response.data.data.link_list.length; i++) {\n            let tp = [response.data.data.link_list[i].cate, response.data.data.link_list[i].pType, response.data.data.link_list[i].subType];\n            link_list.push(tp);\n          }\n        }\n\n        if (response.data.data.url_field && response.data.data.op_url) {\n          that.eventInfofilemap(response.data.data.op_url);\n        }\n\n        that.setState({\n          detail: response.data.data,\n          pid: response.data.data.pid,\n          unit_capacity: response.data.data.unit_capacity,\n          link_list: link_list\n        });\n      }\n    }).catch(function (error) {\n      console.log(error);\n    });\n  }\n\n  async eventInfofilemap(e) {\n    let url = `${APIURL}/eventInfo/fieldMap`;\n    var bodyFormData = new FormData();\n    bodyFormData.append(\"url\", e);\n    let that = this;\n\n    if (e && e.length >= 1) {\n      await axios.post(url, bodyFormData, {\n        withCredentials: true\n      }).then(function (response) {\n        console.log(response);\n\n        if (response.data.code == 0) {\n          that.setState({\n            filemap: true,\n            mapdt: response.data.data\n          });\n        }\n      }).catch(function (error) {\n        console.log(error);\n      });\n    } else {\n      console.log(\"blank url\");\n    }\n  }\n\n  render() {\n    const goback = () => {\n      this.props.history.push({\n        pathname: \"EventList\"\n      });\n    };\n\n    const columns = [{\n      title: '服务名',\n      dataIndex: 'server_name',\n      align: \"center\",\n      render: (text, data) => /*#__PURE__*/_jsxDEV(\"span\", {\n        children: data.app_name + \".\" + data.server_name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 435,\n        columnNumber: 21\n      }, this)\n    }, {\n      title: 'set',\n      dataIndex: 'set_name',\n      align: \"center\",\n      render: (text, data) => /*#__PURE__*/_jsxDEV(\"span\", {\n        children: data.set_name ? data.set_name : \"--\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 449,\n        columnNumber: 21\n      }, this)\n    }, {\n      title: '地域',\n      dataIndex: 'area',\n      align: \"center\",\n      render: (text, data) => /*#__PURE__*/_jsxDEV(\"span\", {\n        children: data.area ? data.area : \"--\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 460,\n        columnNumber: 21\n      }, this)\n    }, {\n      title: '需扩容台数',\n      dataIndex: 'need_num',\n      align: \"center\"\n    }, {\n      title: '当前台数',\n      dataIndex: 'now_num',\n      align: \"center\"\n    }, {\n      title: '扩容工单号',\n      dataIndex: 'area',\n      align: \"center\",\n      render: (text, data) => /*#__PURE__*/_jsxDEV(\"span\", {\n        children: data.expand_oncall_id != 0 ? /*#__PURE__*/_jsxDEV(\"a\", {\n          rel: \"noopener noreferrer\",\n          href: `http://oncall.oa.com/workBench?id=${data.expand_oncall_id}`,\n          target: \"_blank\",\n          children: [\" \", data.reduce_oncall_id, \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 487,\n          columnNumber: 29\n        }, this) : \"--\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 485,\n        columnNumber: 21\n      }, this)\n    }, {\n      title: '缩容工单号',\n      dataIndex: 'area',\n      align: \"center\",\n      render: (text, data) => /*#__PURE__*/_jsxDEV(\"span\", {\n        children: data.reduce_oncall_id != 0 ? /*#__PURE__*/_jsxDEV(\"a\", {\n          rel: \"noopener noreferrer\",\n          href: `http://oncall.oa.com/workBench?id=${data.reduce_oncall_id}`,\n          target: \"_blank\",\n          children: [\" \", data.reduce_oncall_id, \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 503,\n          columnNumber: 25\n        }, this) : \"--\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 499,\n        columnNumber: 21\n      }, this)\n    }];\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"capacitycontainer\",\n      children: this.state.id && this.state.detail ? /*#__PURE__*/_jsxDEV(Card, {\n        title: \"\\u5BB9\\u91CF\\u6A21\\u7248\",\n        bordered: false,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"btnwrap\",\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            className: \"rightbtn\",\n            onClick: () => goback(),\n            type: \"primary\",\n            children: \" \\u8FD4\\u56DE \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 521,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 520,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"detailwrap\",\n          children: [/*#__PURE__*/_jsxDEV(Row, {\n            children: [/*#__PURE__*/_jsxDEV(Col, {\n              span: 8,\n              children: [\"\\u4E8B\\u4EF6\\u7C7B\\u578B\\uFF1A\", this.state.detail.event_type == 1 ? \"手动运营事件\" : \"自动推送事件\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 532,\n              columnNumber: 24\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              span: 8,\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"namelength440\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"sixcharacter\",\n                  children: \"\\u4E8B\\u4EF6\\u540D\\u79F0\\uFF1A\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 540,\n                  columnNumber: 28\n                }, this), this.state.detail.event_name ? this.state.detail.event_name : \"--\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 539,\n                columnNumber: 28\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 537,\n              columnNumber: 24\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              span: 8,\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"\\u7236\\u4E8B\\u4EF6\\uFF1A\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 551,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(Select, {\n                  placeholder: \"--\",\n                  defaultValue: this.state.detail.pid,\n                  disabled: true,\n                  children: this.state.pid != 0 && this.state.tabledt ? this.state.tabledt.map(function (itm) {\n                    return /*#__PURE__*/_jsxDEV(Option, {\n                      value: itm.id,\n                      children: [\" \", itm.event_name, \" \"]\n                    }, itm.id, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 563,\n                      columnNumber: 56\n                    }, this);\n                  }) : /*#__PURE__*/_jsxDEV(Option, {\n                    value: \"null\",\n                    children: \" -- \"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 568,\n                    columnNumber: 48\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 554,\n                  columnNumber: 36\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 550,\n                columnNumber: 32\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 547,\n              columnNumber: 24\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 531,\n            columnNumber: 20\n          }, this), /*#__PURE__*/_jsxDEV(Row, {\n            children: [/*#__PURE__*/_jsxDEV(Col, {\n              span: 8,\n              children: [\"\\u5F00\\u59CB\\u65F6\\u95F4\\uFF1A\", this.state.detail.start_time ? this.state.detail.start_time : \"--\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 579,\n              columnNumber: 24\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              span: 8,\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"sixcharacter\",\n                children: \" \\u9884\\u8BA1\\u7F29\\u5BB9\\u65F6\\u95F4\\uFF1A\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 584,\n                columnNumber: 26\n              }, this), \" \", this.state.detail.end_time ? this.state.detail.end_time : \"--\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 583,\n              columnNumber: 24\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              span: 8,\n              children: [\"\\u8D1F\\u8D23\\u4EBA\\uFF1A \", this.state.detail.event_users ? this.state.detail.event_users : \"--\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 587,\n              columnNumber: 24\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 578,\n            columnNumber: 20\n          }, this), this.state.detail.event_type == 2 ? /*#__PURE__*/_jsxDEV(Row, {\n            children: [/*#__PURE__*/_jsxDEV(Col, {\n              span: 8,\n              children: [\"\\u5BB9\\u91CF\\u6307\\u6807\\uFF1A\", this.state.detail.capacity_quota ? this.state.detail.capacity_quota : \"--\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 595,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              span: 8,\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"sixcharacter\",\n                children: \"\\u5BB9\\u91CF\\u5355\\u4F4D\\uFF1A\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 600,\n                columnNumber: 33\n              }, this), this.state.detail.unit_capacity ? this.state.detail.unit_capacity : \"--\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 599,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              span: 8,\n              children: [\"\\u9884\\u4F30\\u5BB9\\u91CF\\uFF1A\", this.state.detail.capacity_pre_value ? this.state.detail.capacity_pre_value : \"-\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 605,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 594,\n            columnNumber: 29\n          }, this) : \"\", /*#__PURE__*/_jsxDEV(Row, {\n            children: [this.state.detail.op_pre_value && this.state.detail.event_type == 1 ? /*#__PURE__*/_jsxDEV(Col, {\n              span: 8,\n              children: [\"\\u9884\\u4F30\\u5BB9\\u91CF\\uFF1A  \", this.state.detail.op_pre_value]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 622,\n              columnNumber: 28\n            }, this) : \"\", /*#__PURE__*/_jsxDEV(Col, {\n              span: 8,\n              children: [\"\\u6269\\u5BB9\\u6700\\u5927\\u6BD4\\u4F8B(%)\\uFF1A \", this.state.detail.expand_max_rate ? this.state.detail.expand_max_rate : \"--\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 630,\n              columnNumber: 24\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 616,\n            columnNumber: 20\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 528,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          children: /*#__PURE__*/_jsxDEV(Col, {\n            span: 24,\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"title\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"\\u5BB9\\u91CF\\u8BE6\\u60C5\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 644,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 643,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 642,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 641,\n          columnNumber: 21\n        }, this), this.state.tabcapacitylist && this.state.tabcapacitylist.length >= 1 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(Tabs, {\n            defaultActiveKey: \"1\",\n            onChange: this.callback,\n            children: this.state.tabcapacitylist.map(item => {\n              return /*#__PURE__*/_jsxDEV(TabPane, {\n                tab: /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: /*#__PURE__*/_jsxDEV(Tooltip, {\n                    title: item.link_all_name,\n                    children: [/*#__PURE__*/_jsxDEV(SyncOutlined, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 670,\n                      columnNumber: 41\n                    }, this), item.link_name]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 667,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 666,\n                  columnNumber: 37\n                }, this),\n                children: /*#__PURE__*/_jsxDEV(Table, {\n                  columns: columns,\n                  rowKey: \"id\",\n                  dataSource: item.list,\n                  pagination: {\n                    total: item.list.length,\n                    pageSize: item.list.length,\n                    pageSizeOptions: [item.list.length]\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 682,\n                  columnNumber: 37\n                }, this)\n              }, item.link_id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 664,\n                columnNumber: 33\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 659,\n            columnNumber: 30\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 658,\n          columnNumber: 25\n        }, this) : \"--\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 518,\n        columnNumber: 13\n      }, this) : \"\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 515,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default _c = withRouter(CapacityChildDetail);\n\nvar _c;\n\n$RefreshReg$(_c, \"%default%\");","map":{"version":3,"sources":["/Users/xc/Public/capacity_1103/front_new/src/views/pages/CapacityChildDetail.js"],"names":["React","withRouter","Table","Row","Button","Col","Card","Select","Tabs","Tooltip","SyncOutlined","axios","APIURL","Option","TabPane","CapacityChildDetail","Component","constructor","props","onFinish","values","console","log","state","detail","capacitylist","tabcapacitylist","unitcapacity","event_id","unit_capacity","num","link_list","filemap","mapdt","secondarray","originalsecond","link_id","link_idpinput","link_idblur","link_info","linklist","tabeventchaine","bind","componentDidMount","ts","location","search","replace","setState","id","agetRates","eventlist","callback","key","urls","that","get","withCredentials","params","then","response","data","otsdata","tsdata","toparr","topseccond","length","JSON","stringify","i","topobj","fstarrst","j","list","fstobj","parse","names","app_name","server_name","namesa","push","firstarray","firstobjarray","k","firstobj","namesobj","Object","assign","firstlistarray","firstuniqarr","ofirstarr","l","indexOf","subpobj","subtmpobj","area","now_num","target_num","expand_oncall_id","reduce_oncall_id","endarray","n","endobj","lastarr","m","tempar","tempob","nnow_num","ntarget_num","p","rowspan","children","catch","error","tabledt","urlsx","pid_list","t","tp","cate","pType","subType","url_field","op_url","eventInfofilemap","pid","e","url","bodyFormData","FormData","append","post","code","render","goback","history","pathname","columns","title","dataIndex","align","text","set_name","event_type","event_name","map","itm","start_time","end_time","event_users","capacity_quota","capacity_pre_value","op_pre_value","expand_max_rate","item","link_all_name","link_name","total","pageSize","pageSizeOptions"],"mappings":"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","sourcesContent":["\nimport React from 'react';\nimport { withRouter } from 'react-router-dom';\n\nimport { Table, Row,   Button, Col, Card, Select, Tabs, Tooltip  } from 'antd';\n\n \nimport {   SyncOutlined  } from '@ant-design/icons';\n\nimport axios from \"axios\";\n\nimport { APIURL } from '../../common/constdt.js'\n \n\nconst { Option } = Select;\nconst { TabPane } = Tabs;\n\nclass CapacityChildDetail extends React.Component {\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            detail: null,\n            capacitylist: null,\n            tabcapacitylist: null,\n            unitcapacity: null,\n            event_id: null,\n            unit_capacity: null,\n            num: null,\n           \n            link_list: [],\n            filemap: false,\n            mapdt: null,\n\n          \n            secondarray: [],\n            originalsecond: [],\n            link_id: null,\n            link_idpinput: null,\n            link_idblur: null,\n            link_info: null,\n            linklist: null,\n        }\n\n       \n        this.tabeventchaine = this.tabeventchaine.bind(this)\n      \n         \n       \n    }\n\n\n    componentDidMount() {\n \n        \n        this.tabeventchaine()\n        const ts = this.props.location.search.replace(\"?id=\",\"\");\n        this.setState({\n            id: ts,\n        })\n\n        this.agetRates(ts)\n        this.eventlist()\n\n    \n      \n    }\n\n    \n\n    callback(key) {\n        console.log(key);\n    }\n\n    \n\n\n\n    async tabeventchaine() {\n        var ts = this.props.location.search.replace(\"?id=\", \"\")\n        const urls = `${APIURL}/capacity/list`;\n\n        this.setState({\n            event_id: ts\n        })\n        var that = this\n        await axios.get(urls, {\n            withCredentials: true,\n            params: {\n                event_id: ts\n            }\n        })\n            .then(function (response) {\n              \n\n                if (response.data) {\n\n                    var otsdata = response.data.data;\n                \n\n                    console.log(otsdata)\n\n                    var tsdata = response.data.data;\n                   \n                    var toparr = []\n                    var topseccond = []\n\n                    if(tsdata.length == 0) {\n                        return false;\n                    }\n\n                    that.setState({\n                        link_id: tsdata[0].link_id,\n                        link_info: JSON.stringify(tsdata[0].link_info),\n                        linklist: tsdata,\n                    })\n                    \n                    // first time\n\n                    for(let i = 0; i < tsdata.length; i++){\n                            \n                        let  topobj = {};\n                             topobj = tsdata[i];\n\n                       \n                        let fstarrst = []\n                        \n                        for(let j = 0; j < tsdata[i].list.length; j++){\n                            let fstobj = {}\n                         \n                                fstobj = JSON.parse(JSON.stringify(tsdata[i].list[j]))\n                             \n                                let names =  tsdata[i].list[j].app_name + \".\" +  tsdata[i].list[j].server_name;\n                                fstobj.namesa = names\n                              \n                                fstarrst.push(fstobj);\n                        }\n                        \n                        topobj.list = fstarrst\n                      \n                         \n                        console.log(fstarrst)\n                     toparr.push(topobj)\n                     topseccond.push(topobj)\n                    \n                }\n\n                   \n                    console.log('1, add names')\n                    console.log(toparr)\n                    console.log(topseccond)\n                  \n\n                    that.setState({\n                        secondarray: toparr,\n                       \n\n                    })\n\n                //  second time \n                  \n\n                  let firstarray = []\n                  let firstobjarray = []\n          \n                  \n                 \n                  for(let k = 0; k < topseccond.length; k++){\n          \n                      let firstobj = {}\n                      let namesobj = {}\n                       \n                      firstobj = topseccond[k]\n\n                      firstobj = Object.assign({}, topseccond[k]);\n\n                      let firstlistarray = []\n                      let firstuniqarr = []\n                      let ofirstarr = []\n          \n                      for(let l = 0; l < topseccond[k].list.length; l++){\n                          if(firstlistarray.indexOf(topseccond[k].list[l].namesa) == -1 ) {\n                               let subpobj = {};\n                               let subtmpobj = {}\n          \n                               firstlistarray.push(topseccond[k].list[l].namesa);\n                               firstuniqarr.push(topseccond[k].list[l]);\n          \n                               subpobj = topseccond[k].list[l];\n                               subtmpobj = Object.assign({}, subpobj);\n                               subtmpobj.id = subtmpobj.id * 2 + 1;\n                               subtmpobj.area = \"--\";\n                               subtmpobj.now_num = 0;\n                               subtmpobj.target_num = 0;\n                               subtmpobj.expand_oncall_id = 0;\n                               subtmpobj.reduce_oncall_id = 0\n          \n          \n                               ofirstarr.push(subtmpobj);\n                                \n                          }\n          \n                      }\n                      namesobj.list = firstlistarray\n                      firstobj.list = ofirstarr;\n                      firstobjarray.push(firstobj);\n                      firstarray.push(namesobj)\n                    }\n\n\n\n                console.log(\"2\");\n                console.log(firstobjarray)\n                console.log(firstarray);\n                console.log(that.state.secondarray)\n                console.log(topseccond)\n\n\n\n                \n                let endarray = []\n                for(let n = 0; n < firstobjarray.length; n++){\n\n                    let endobj = {}\n                        endobj =  Object.assign({}, firstobjarray[n]);\n                    let lastarr = []\n                    for(let m = 0; m < firstobjarray[n].list.length; m++){\n\n\n                        let tempar = []\n                        let tempob = {}\n                        tempob = firstobjarray[n].list[m]\n                        let nnow_num = 0\n                        let ntarget_num = 0;\n\n                        for(let p = 0;  p < topseccond[n].list.length;p++){\n\n                            if(firstobjarray[n].list[m].namesa == topseccond[n].list[p].namesa){\n                                tempar.push(topseccond[n].list[p])\n                                nnow_num += topseccond[n].list[p].now_num;\n                                ntarget_num += topseccond[n].list[p].target_num\n\n                            }\n                        }\n\n                        tempob.now_num = nnow_num;\n                        tempob.target_num = ntarget_num;\n                        tempob.rowspan = tempar.length;\n\n                        if(tempar.length > 1){\n                            tempob.children = tempar\n                        }\n                        \n                        lastarr.push(tempob)\n\n                    }\n                    endobj.list = lastarr;\n                    endarray.push(endobj)\n                }\n\n                console.log(endarray)\n\n\n                that.setState({\n                    tabcapacitylist: endarray\n\n                })\n  \n\n              }\n\n               \n\n            })\n            .catch(function (error) {\n                console.log(error);\n            })\n\n\n\n\n\n    }\n    \n\n\n\n \n    \n\n    async eventlist (){\n\n        this.setState({\n            tabledt: null,\n            \n\n        })\n        const urlsx = `${APIURL}/eventInfo/queryPid`;\n\n        \n\n        var that = this\n        await axios.get(urlsx, { withCredentials: true })\n            .then(function (response) {\n              \n                if (response.data) {\n                    that.setState({\n                        \n                        tabledt: response.data.pid_list,\n                        \n                    })\n                }\n\n\n\n            })\n            .catch(function (error) {\n                console.log(error);\n            })\n    }\n\n\n    async agetRates (t){\n\n      \n        const urlsx = `${APIURL}/eventInfo/detail?event_id=${t}`;\n\n        var that = this\n        await axios.get(urlsx, { withCredentials: true })\n            .then(function (response) {\n              \n                if (response.data) {\n\n\n                    let link_list = []\n                    if(response.data.data.link_list && response.data.data.link_list.length >=1){\n                        for(let i = 0; i < response.data.data.link_list.length;i++){\n                            let tp = [response.data.data.link_list[i].cate, response.data.data.link_list[i].pType, response.data.data.link_list[i].subType]\n                            link_list.push(tp)\n                        }\n                    }\n                \n                     \n                    if(response.data.data.url_field && response.data.data.op_url){\n                        that.eventInfofilemap(response.data.data.op_url)\n                    }\n\n\n                    that.setState({\n                        \n                        detail: response.data.data,\n                        pid: response.data.data.pid,\n                        unit_capacity: response.data.data.unit_capacity,\n                        link_list: link_list,\n\n                    })\n                }\n\n            })\n            .catch(function (error) {\n                console.log(error);\n            })\n    }\n\n\n    \n    async eventInfofilemap(e){\n     \n        let url = `${APIURL}/eventInfo/fieldMap`;\n \n        var bodyFormData = new FormData();\n        bodyFormData.append(\"url\", e); \n        let that = this\n\n        if(e && e.length >= 1){\n            await axios.post(url, bodyFormData, { withCredentials: true })\n           .then(function (response) {\n            console.log(response)\n            if(response.data.code == 0){\n                that.setState({\n                    filemap: true,\n                    mapdt: response.data.data\n                 })\n            }\n             \n           })\n           .catch(function (error) {\n             console.log(error);\n             \n             \n           })\n            \n        } else {\n            console.log(\"blank url\")\n        }\n        \n           \n     }\n\n\n    onFinish = (values) => {\n\n        console.log('Success:', values);\n    }\n\n \n    \n\n\n\n \n\n    render() {\n\n        const goback = () => {\n\n\n            this.props.history.push({\n                pathname: \"EventList\",\n\n            });\n\n        }\n       \n\n     \n\n        const columns = [\n            {\n                title: '服务名',\n                dataIndex: 'server_name',\n                align: \"center\",\n                render: (text, data) => (\n                    <span>\n                        {data.app_name+\".\"+data.server_name}\n                    </span>\n                    \n                )\n\n                \n\n            },\n            {\n                title: 'set',\n                dataIndex: 'set_name',\n                align: \"center\",\n                render: (text, data) => (\n                    <span>\n                        {data.set_name ? data.set_name : \"--\"}\n                    </span>\n                    \n                )\n            },\n            {\n                title: '地域',\n                dataIndex: 'area',\n                align: \"center\",\n                render: (text, data) => (\n                    <span>\n                        {data.area ? data.area : \"--\"}\n                    </span>\n                    \n                )\n            },\n            {\n                title: '需扩容台数',\n                dataIndex: 'need_num',\n                align: \"center\",\n                 \n\n            },\n            {\n                title: '当前台数',\n                dataIndex: 'now_num',\n                align: \"center\",\n                 \n\n            },\n            {\n                title: '扩容工单号',\n                dataIndex: 'area',\n                align: \"center\",\n                render: (text, data) => (\n                    <span>\n                        {data.expand_oncall_id != 0 ? (\n                            <a rel=\"noopener noreferrer\"  href={`http://oncall.oa.com/workBench?id=${data.expand_oncall_id}`} target=\"_blank\"> {data.reduce_oncall_id} </a>\n                        ): (\"--\")}\n                        \n                    </span>\n                    \n                )\n            },\n            {\n                title: '缩容工单号',\n                dataIndex: 'area',\n                align: \"center\",\n                render: (text, data) => (\n                    <span>\n\n                    \n                    {data.reduce_oncall_id != 0 ? (\n                        <a rel=\"noopener noreferrer\"  href={`http://oncall.oa.com/workBench?id=${data.reduce_oncall_id}`} target=\"_blank\"> {data.reduce_oncall_id} </a>\n                    \n                    ):(\"--\")}\n                    </span>\n                    \n                )\n            },\n\n        ];\n\n\n        return (\n            <div  id=\"capacitycontainer\">\n            {this.state.id  && this.state.detail ? (\n\n            <Card title=\"容量模版\" bordered={false}  >\n            \n                <div className=\"btnwrap\">\n                    <Button className=\"rightbtn\" onClick={() => goback()}  type=\"primary\"> 返回 </Button>\n \n                </div>\n                    \n\n\n\n                    <div className=\"detailwrap\">\n                   \n\n                   <Row>\n                       <Col span={8}>\n                           事件类型： \n                           { this.state.detail.event_type == 1 ? \"手动运营事件\" : \"自动推送事件\" }\n                           \n                       </Col>\n                       <Col span={8}>\n                         \n                           <div className=\"namelength440\">\n                           <span className=\"sixcharacter\"> \n                            事件名称：\n                            </span>\n                            {  this.state.detail.event_name  ?  this.state.detail.event_name: \"--\"}\n                            </div>\n                            \n                       </Col>\n                       <Col span={8}>\n                         \n                   \n                               <span> \n                                    <label>\n                                     父事件：\n                                   </label>\n                                   <Select\n                                   placeholder=\"--\"\n                                   defaultValue={this.state.detail.pid}\n                                   disabled\n                                   >\n                                       { this.state.pid != 0 &&  this.state.tabledt ? (\n                                               \n                                               this.state.tabledt.map(function(itm){\n                                                   return (\n                                                       <Option value={itm.id} key={itm.id}> {itm.event_name} </Option>\n                                                   )\n                                               }) \n                                               \n                                           ):(\n                                               <Option value=\"null\"> -- </Option>\n                                           )}\n                                           \n                                   </Select>\n                                    \n                               </span>\n                         \n\n                   </Col>\n                   </Row>\n                   <Row>\n                       <Col span={8}>\n                            开始时间：  \n                            {  this.state.detail.start_time  ? this.state.detail.start_time : \"--\" }\n                       </Col>\n                       <Col span={8}>\n                         <span className=\"sixcharacter\"> 预计缩容时间：</span> { this.state.detail.end_time   ?  this.state.detail.end_time : \"--\" }\n                       </Col>\n                        \n                       <Col span={8}>\n                           负责人： {  this.state.detail.event_users ? this.state.detail.event_users : \"--\"}\n                       </Col>\n                       \n                   </Row>\n                    {this.state.detail.event_type == 2 ? (\n\n                            <Row>\n                            <Col span={8}>\n                                容量指标：  \n                                {  this.state.detail.capacity_quota  ? this.state.detail.capacity_quota : \"--\" }\n                            </Col>\n                            <Col span={8}>\n                                <span className=\"sixcharacter\"> \n                                    容量单位：\n                                </span>\n                            { this.state.detail.unit_capacity   ?  this.state.detail.unit_capacity : \"--\" }\n                            </Col>\n                            <Col span={8}>\n                                \n                                预估容量：  \n                                { this.state.detail.capacity_pre_value    ?  this.state.detail.capacity_pre_value   : \"-\" }\n                                \n                            </Col>\n                            </Row>\n\n\n                    ): (\"\")}\n                   \n                   <Row>\n\n\n                         \n                        { this.state.detail.op_pre_value && this.state.detail.event_type == 1  ?\n                           \n                           <Col span={8}>\n                               \n                           预估容量：  {this.state.detail.op_pre_value }\n                           \n                           </Col> :\n                         \"\" }\n                     \n                        \n                       <Col span={8}>\n                           扩容最大比例(%)： {  this.state.detail.expand_max_rate ? this.state.detail.expand_max_rate : \"--\"}\n                       </Col>\n\n                       \n                   </Row>\n\n               </div>\n\n\n\n                    <Row>\n                    <Col span={24}>\n                        <div className=\"title\">\n                            <span>\n                                容量详情\n                               \n                            </span>\n                                 \n                                 \n                        </div>\n                        </Col>\n                       \n                    </Row>\n\n\n                    {this.state.tabcapacitylist && this.state.tabcapacitylist.length >= 1 ? (\n                        \n                        <div>\n                             <Tabs defaultActiveKey=\"1\" onChange={this.callback}> \n                              { this.state.tabcapacitylist.map((item) => {\n\n\n                                return (\n                                <TabPane\n                                tab={\n                                    <span>\n                                        <Tooltip title={item.link_all_name}>\n\n                                       \n                                        <SyncOutlined   />\n                                        {item.link_name}\n                                        </Tooltip>\n                                    </span>\n                                  }\n                                   \n                                key={item.link_id}>\n\n \n                                                        \n                                \n                                  \n                                    <Table\n\n                                        columns={columns}\n                                        rowKey=\"id\"\n                                        dataSource={item.list}\n                                        pagination={{  \n                                            total: item.list.length, \n                                            pageSize: item.list.length, \n                                            \n                                            pageSizeOptions:[item.list.length],\n                                            \n\n                                        }}\n\n                                        />\n\n\n                                </TabPane>\n                                )\n\n\n                                })\n                            }\n\n                            </Tabs>\n                        </div>\n\n\n                    ):(\"--\")}\n                       \n                    \n\n \n\n\n            </Card>\n        ) : (\"\")}\n\n              \n        </div>\n        )\n    }\n\n}\n\n\n\n\n\nexport default withRouter(CapacityChildDetail);"]},"metadata":{},"sourceType":"module"}